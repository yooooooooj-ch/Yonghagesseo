<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ddak.yongha.mapper.AccountsMapper">
	<!-- 유저의 계좌 등록 -->
	<insert id="insertAccount" parameterType="AccountsVO">
		INSERT INTO accounts (account_id, user_no, balance, bank_name)
		VALUES (#{avo.account_id}, #{user_no}, #{avo.balance}, #{avo.bank_name}) 
	</insert>
	
	<!-- 새로운 계좌로 변경 -->
	<update id="updateAccount" parameterType="AccountsVO">
		UPDATE accounts 
		SET account_id = #{avo.account_id}, balance = #{avo.balance}, bank_name = #{avo.bank_name}
		WHERE user_no = #{user_no}
	</update>
	
	
	<select id="findBalanceByUserNo" parameterType="int" resultType="long">
    	SELECT balance
      	FROM Accounts
     	WHERE user_no = #{user_no}
 	</select>

</mapper>